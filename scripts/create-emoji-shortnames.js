#!/usr/bin/env node

const { join, basename } = require('path');

const { writeFileSync } = require('fs');

const data = require('emojione/emoji.json');

const json = Object.keys(data)
  .sort((k1, k2) => (data[k1].order < data[k2].order ? -1 : 1))
  .reduce((res, key) => {
    const { category, shortname } = data[key];
    res[category] = res[category] || [];
    res[category].push(shortname);
    return res;
  }, {});

const filename = join(__dirname, '../src/data/emoji-shortnames.js');

console.error('Writting', filename);

writeFileSync(
  filename,
  `
// Do  not edit this file
// This file was auto generated by ${basename(__filename)}
module.exports = ${JSON.stringify(json, null, '')}
`
);
